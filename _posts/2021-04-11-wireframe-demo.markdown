---
layout: post
title:  "Wireframe face rendering demo"
date:   2021-04-11 16:05:00 +0900
categories: dev
---

This weekend I implemented rendering functions for Model and Component, and
created a small test (more like a demo) to render a Model as a wireframe.

Since there's no editor yet, in order to actually create the meshes I drew
pixels of color #00ff00 for points, and then wrote a
[python script][extract-points-py] to extract them. Then I went through the
tedious task of manually inputting the [vertex indices][face-planes] into the
triangles list... I got the face model from an anime face
[generated by StyleGAN2][anime-gan], and then drew vertices somewhat
arbitrarily just to test the rendering (that's why the
[topology][face-topology] isn't very good).

Then I implemented the render functions using the OpenGL that I learned last
week, and I managed to get a wireframe render of a face!

![Wireframe face render](/assets/2021-04-11-mesh-render-demo.png)

I've got some weird streched triangles from the eyes; not sure what those are.
I'll have to look into that.

I was going to test-render all the components, but the hair had way more
triangles than the face, and inputting all those triangles manually for the
face already burned me out, so just the face and eyes and mouth it is.

The plan for next week is to implement textures. Though I'm debating whether
testing parameter-setting first might be better while I'm still at the
wireframe rendering phase. We'll see.

[extract-points-py]: https://github.com/libre2d/libre2d/blob/95cede61af44e3542f18a9375be01f6d916c682c/test/test-face/extract-points.py
[face-planes]: https://github.com/libre2d/libre2d/blob/95cede61af44e3542f18a9375be01f6d916c682c/test/render.cpp#L134
[anime-gan]: https://towardsdatascience.com/generating-anime-characters-with-stylegan2-6f8ae59e237b
[face-topology]: https://github.com/libre2d/libre2d/blob/95cede61af44e3542f18a9375be01f6d916c682c/test/test-face/face-topology.xcf
